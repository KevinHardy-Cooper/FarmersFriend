<!DOCTYPE html>
<html>
	<head>

		<!-- Character encoding -->
		<meta charset = "UTF-8">

		<!-- Assisting with scaling from desktop to mobile, inspired by https://www.w3schools.com/css/css_rwd_viewport.asp -->
		<meta name = "viewport" content = "width = device-width, initial-scale = 1">
		
		<!-- Page author -->
		<meta name = "author" content = "Kevin Hardy-Cooper">

		<!-- Page description -->
		<meta name = "description" content = "Results of search for farms">

		<!-- Title of the page -->
		<title>Farmer's Friend</title>

		<!-- Importing external stylesheet -->
		<link href="stylesheets/global.css" type="text/css" rel="stylesheet"/>
		<link href="stylesheets/results.css" type="text/css" rel="stylesheet"/>

		<!-- Embedded map -->
		<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
		<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>

		<style>
			#mymap {
				width: 100%;
				height: 400px;
			}
		</style>
	</head>
	<body>
		<header>

			<!-- Navbar -->
			<nav>
				<ul>
					<li class = "justify-left">
						<a href = "index.html">
							Farmer's Friend
						</a>
					</li>
					<li class = "justify-right">
						<a href = "sign_in.html">
							Sign In
						</a>
					</li>
					<li class = "justify-right">
						<a href = "registration.html">
							Sign Up
						</a>
					</li>
					<li class = "justify-right">
						<a href = "submission.html">
							Register Farm
						</a>
					</li>
					<li class = "justify-right">
						<a href = "search.html">
							Search
						</a>
					</li>
				</ul>
			</nav>
		</header>

		<!-- Adding some line spaces for formatting -->
		<br>
		<br>

		<main>

			<!-- Text providing feedback to the user about what page they are on and the state -->
			<div class = "specific-padding">
				<h3>
					4 results for "&#9734; &#9734; &#9734; &#9734; &#9734;"
				</h3>
			</div>

			<!-- <div> that our map will be loaded into -->
			<div id="mymap"></div>

			<!-- Table containing returned results and data about these results -->
			<div class = "specific-padding scrollable-div">
				<table class = "table">
					<tr>
						<th>Farm Image</th>
						<th>Farm</th>
						<th>Date Joined</th>
						<th>Most Recent Review</th>
						<th>Average Rating</th>
						<th>Write Review</th>
					</tr>
					<tr>
						<td>
							<picture>
								<img alt = "User-uploaded image of their farm" class = "results-image" src = "assets/img/two-silos.jpg">
							</picture>
						</td>
						<td>
							<a href = "individual_sample.html">
								Farmer Kev's Farm
							</a>
						</td>
						<td>January 8th, 2018</td>
						<td>January 9th, 2018</td>
						<td>5 stars</td>
						<td>
							<button class = "large-field">
								Review
							</button>
						</td>
					</tr>
					<tr>
						<td>
							<picture>
								<img alt = "User-uploaded image of their farm" class = "results-image" src = "assets/img/corn-field.jpeg">
							</picture>
						</td>
						<td>
							<a href = "individual_sample.html">
								Woodfield Farm & Market
							</a>
						</td>
						<td>January 8th, 2018</td>
						<td>January 9th, 2018</td>
						<td>5 stars</td>
						<td>
							<button class = "large-field">
								Review
							</button>
						</td>
					</tr>
					<tr>
						<td>
							<picture>
								<img alt = "User-uploaded image of their farm" class = "results-image" src = "assets/img/cow-calves.jpeg">
							</picture>
						</td>
						<td>
							<a href = "individual_sample.html">
								Maple Grove Farm
							</a>
						</td>
						<td>January 8th, 2018</td>
						<td>January 9th, 2018</td>
						<td>5 stars</td>
						<td>
							<button class = "large-field">
								Review
							</button>
						</td>
					</tr>
					<tr>
						<td>
							<picture>
								<img alt = "User-uploaded image of their farm" class = "results-image" src = "assets/img/truck-mountains.jpg">
							</picture>
						</td>
						<td>
							<a href = "individual_sample.html">
								Lit Farm
							</a>
						</td>
						<td>January 8th, 2018</td>
						<td>January 9th, 2018</td>
						<td>5 stars</td>
						<td>
							<button class = "large-field">
								Review
							</button>
						</td>
					</tr>
				</table>	
			</div>		
		</main>					

		<!-- Footer -->
		<footer>
			<p> 
				Made with 
				<picture>
					<source srcset = "assets/img/corn.png">
					<img alt = "Corn" class = "footer-emoji" src = "assets/img/corn.png"> 
				</picture>
				&nbsp;by Kevin Hardy-Cooper &copy; 2018
			</p>
		</footer>
		
	</body>
</html>
<script>

	// create the map and load it into the div with id="mymap"
	var mymap = L.map('mymap');

	// use the OpenStreetMaps tiles
	L.tileLayer(
		'https://a.tile.openstreetmap.org/{z}/{x}/{y}.png',
		{
			attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, ' +
			'<a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'
		}
	).addTo(mymap);

	// centre the map around McMaster University
	mymap.setView([43.263,-79.919], 15);

	// add a marker to the map
	L.marker([43.260659, -79.921782])
		.addTo(mymap)
		.bindPopup("<b>Our classroom</b> at <a href='http://www.mcmaster.ca'>McMaster</a>")
		.openPopup(); // open popup on load

	// add a marker to the map
	L.marker([43.25902, -79.92064])
		.addTo(mymap)
		.bindPopup("<b><a href='http://www.cas.mcmaster.ca'>Computing and Software</a></b>");

	// create a blank pop-up for later use
	var popup = L.popup();
	// display a popup when the user clicks on the map
	function onMapClick(e) {
		popup.setLatLng(e.latlng)
		     .setContent("You clicked the map at " + e.latlng.toString())
		     .openOn(mymap);
	}
	mymap.on('click', onMapClick);

</script>
 
